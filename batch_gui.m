function batch_opt = batch_gui(hfig,evnt)%#ok

gd=guidata(hfig);

hf = figure('units','normalized','position',[0.253 0.387 0.134 0.238],...
    'menubar','none','name','Configure Batch Output',...
    'numbertitle','off','color',[0.925 0.914 0.847]);

bod.check5 = uicontrol(hf,'style','checkbox','units','normalized',...
    'position',[0.178 0.743 0.615 0.0888],'string','MAT File (.mat)',...
    'backgroundcolor',[0.925 0.914 0.847],'value',gd.batch.out_mat);
bod.check4 = uicontrol(hf,'style','checkbox','units','normalized',...
    'position',[0.178 0.612 0.615 0.0888],...
    'string','Classification Shape-File (.shp)',...
    'backgroundcolor',[0.925 0.914 0.847],'value',gd.batch.out_shape);
bod.check3 = uicontrol(hf,'style','checkbox','units','normalized',...
    'position',[0.178 0.48 0.615 0.0888],...
    'string','Classification CSV (.csv)',...
    'backgroundcolor',[0.925 0.914 0.847],'value',gd.batch.out_csv);
bod.check2 = uicontrol(hf,'style','checkbox','units','normalized',...
    'position',[0.178 0.349 0.615 0.0888],'string','FACS Nav. File (.txt)',...
    'backgroundcolor',[0.925 0.914 0.847],'value',gd.batch.out_facs);
bod.check1 = uicontrol(hf,'style','checkbox','units','normalized',...
    'position',[0.178 0.217 0.615 0.0888],'string','Google Earth (.kml)',...
    'backgroundcolor',[0.925 0.914 0.847],'value',gd.batch.out_ge);
uicontrol(hf,'style','pushbutton','units','normalized',...
    'position',[0.615 0.0493 0.295 0.0822],'string','Done',...
    'backgroundcolor',[0.925 0.914 0.847],'callback',@bodclose);

guidata(hf,bod);

uiwait
bod=guidata(hf);
gd.batch=bod.batch;
guidata(hfig,gd);

close(hf)
%%%%----------------------------------------------------------------------

function bodclose(hf,evnt) %#ok

bod=guidata(hf);
bod.batch.out_mat=get(bod.check5,'value');
bod.batch.out_shape=get(bod.check4,'value');
bod.batch.out_csv=get(bod.check3,'value');
bod.batch.out_facs=get(bod.check2,'value');
bod.batch.out_ge=get(bod.check1,'value');

guidata(hf,bod);
uiresume